<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{fragments.html :: headerContent}"></head>
<body>
    <div th:insert="~{fragments.html :: navegacion}"></div>
    <h1>Mapa de Google con Marcador</h1>
    <div style="height: 400px; width: 100%" id="map"></div>
    <footer th:insert="~{fragments.html :: footer}"></footer>
    <div th:insert="~{fragments.html :: scripts}"></div>
    <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDqCX5ejILCSnTL2e3dKiar0YWngOYS_SI&callback=initMap&v=weekly&libraries=marker"
            defer
    ></script>
    <script>
        let latitud = parseFloat("[[${incidente.getLatitud()}]]");
        let longitud = parseFloat("[[${incidente.getLongitud()}]]");
        async function initMap() {
            const position = { lat: latitud, lng: longitud };
            const map = new google.maps.Map(document.getElementById("map"),  {
                zoom: 16,
                center: position,
                mapId: "DENUNCIA",
            });

            const marker = new google.maps.marker.AdvancedMarkerElement({
                map,
                position: position,
                title: 'Denuncia',
            });
        }
        initMap();
    </script>
</body>
</html>
